# インストール・テストガイド

## Safari拡張機能のインストール方法

### macOS Safari

1. **開発者メニューを有効化**
   - Safari → 環境設定 → 詳細
   - 「メニューバーに"開発"メニューを表示」にチェック

2. **拡張機能を読み込み**
   - Safari → 開発 → 拡張機能を許可
   - 開発 → 拡張機能を読み込む...
   - このプロジェクトフォルダを選択

3. **拡張機能を有効化**
   - Safari → 環境設定 → 拡張機能
   - 「YouTube Transcript AI Assistant」を有効化

### iOS/iPadOS Safari

1. **macOSでの前提作業**
   - 上記のmacOS手順を完了
   - 同じApple IDでiCloud同期を有効化

2. **iOS/iPadOSでの設定**
   - 設定 → Safari → 拡張機能
   - 「YouTube Transcript AI Assistant」を有効化

### Chrome/Edge (テスト用)

1. **開発者モードを有効化**
   - chrome://extensions/ または edge://extensions/ を開く
   - 右上の「開発者モード」を有効化

2. **拡張機能を読み込み**
   - 「パッケージ化されていない拡張機能を読み込む」をクリック
   - このプロジェクトフォルダを選択

## テスト手順

### 基本動作テスト

1. **YouTube動画ページを開く**
   - 字幕付きの動画を選択（例：TED Talks等）
   - 動画ページが完全に読み込まれるまで待機

2. **拡張機能を起動**
   - ブラウザのツールバーで拡張機能アイコンをクリック
   - ポップアップが表示されることを確認

3. **文字起こし取得をテスト**
   - 「文字起こしを取得中...」メッセージが表示されることを確認
   - 文字起こしが正常に表示されることを確認

4. **コピー機能をテスト**
   - 「コピー」ボタンをクリック
   - 「文字起こしをコピーしました」メッセージが表示されることを確認
   - 他のアプリでペースト（Cmd+V）して内容を確認

5. **AI送信機能をテスト**
   - ChatGPT、Claude、Geminiボタンをそれぞれクリック
   - 新しいタブで該当サイトが開かれることを確認
   - クリップボードに内容がコピーされていることを確認

### カスタムプロンプト機能テスト

1. **プロンプト入力**
   - カスタムプロンプト欄に任意のテキストを入力
   - 「保存」ボタンをクリック

2. **プロンプト保存確認**
   - ポップアップを閉じて再度開く
   - 入力したプロンプトが保持されていることを確認

3. **プロンプト付きコピー**
   - 「コピー」ボタンをクリック
   - ペーストした内容にプロンプトが含まれていることを確認

## トラブルシューティング

### よくある問題と解決方法

#### 1. 拡張機能が表示されない
- ブラウザを再起動
- 拡張機能を無効化→有効化
- 開発者モードが有効になっているか確認

#### 2. 文字起こしが取得できない
- 動画に字幕が利用可能か確認
- ページを再読み込み
- 別の字幕付き動画で試行

#### 3. AI送信が機能しない
- ポップアップブロッカーを無効化
- ブラウザのクリップボード権限を確認
- 該当のAIサービスにログイン済みか確認

#### 4. iOSで拡張機能が同期されない
- iCloud同期が有効になっているか確認
- 同じApple IDでログインしているか確認
- iOS設定で拡張機能を手動で有効化

### デバッグ方法

1. **コンソールログ確認**
   ```
   # 開発者ツール → Console
   "YouTube Transcript Extractor loaded" メッセージを確認
   ```

2. **拡張機能のエラー確認**
   ```
   # Chrome: chrome://extensions/
   # エラーがある場合は詳細ページで確認
   ```

3. **権限確認**
   ```
   # manifest.jsonで指定した権限が正しく付与されているか確認
   ```

## パフォーマンステスト

### 推奨テスト動画

1. **日本語字幕付き動画**
   - TED Talks (日本語字幕)
   - 教育系YouTubeチャンネル

2. **英語字幕付き動画**
   - TED Talks (英語)
   - 技術系プレゼンテーション

3. **長時間動画**
   - 1時間以上の講演動画
   - ライブストリーム録画

### 期待される動作

- 短い動画（5分以下）: 2-5秒で取得完了
- 中程度の動画（10-30分）: 5-10秒で取得完了
- 長時間動画（1時間以上）: 10-30秒で取得完了

## 本番環境への移行

### Safari App Store公開準備

1. **Xcode Projectの作成**
   - 新規Safari Extension Projectを作成
   - Web Extension Bundleとして本プロジェクトを追加

2. **必要な修正**
   - アイコンファイル（PNG形式）の追加
   - Info.plistの設定
   - Code Signingの設定

3. **App Store Connect**
   - アプリ情報の入力
   - スクリーンショットの追加
   - 審査申請

### Chrome Web Store公開準備

1. **拡張機能のパッケージ化**
   - アイコンファイル（PNG形式）の追加
   - zipファイルの作成

2. **Chrome Developer Dashboard**
   - 開発者登録（$5の手数料）
   - 拡張機能のアップロード
   - 説明文・スクリーンショットの追加